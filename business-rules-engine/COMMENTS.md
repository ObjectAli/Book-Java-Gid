# Глава 5
Написание движка бизнес-правил, позволяющего различным командам совместно разрабатывать ПО. 
Такая программа позволит "непрограммистам" иметь возможность добавлять или изменять бизнес-логику их рабочего пространства.

## Движок бизнес-правил
Программа может поддерживать следующие компоненты:
- факты (информация, к которой у правил есть доступ)
- действия (операции, которые должны выполняться)
- условия (они определяют, когда действия должны запускаться)
- правила (они определяют саму логику, которую вы хотите реализовать и включают в себя факты, условия и действия)

! Существуют много готовых Java движков бизнес-правил, например, Drools

Основные функциональные возможности, которыми будут пользоваться клиенты: 
- Добавлять действия
- Запускать действия
- Получать базовые отчёты

Действие - это просто фрагмент кода, который будет исполняться.
Действие - определённый набор операций, подлежащих выполнению.
Условие - соблюдение ограничений, применяющиеся к определённым фактам, для проверки их на истинность.
Правило - условие и действие вместе.

## Разработка через тестирование (TDD - test-driven development)
Философия TDD предполагает разработку тестов, которые затем приводят к реализации кода программы.
Сначала пишутся тесты, а потом реализация. Это позволяет сконцентрироваться на конечно результате ПО и сразу реализовать полный набор тестов. 

## Мокинг
Мокинг - это методика, которая позволяет выполнить имитацию действия. Это позволяет выполнить тестирования методов, которые ничего не возвращают (create, run, execute ...).
Мокинг позволяет писать модульные тесты, которые делают утверждение о том, что определённые действия были запущены\выполнены.
Mockito - популярная Java мокинг-библиотека.
* mock() - позволяет создать мок-объект, который потом можно проверить на определённое поведение
* verify() - позволяет сделать утверждение о том, что вызван определённый метод.

## Fluent API
Fluent API (текучий интерфейс) - это API, разработанный непосредственно для определённого домена*, что позволяет решать конкретные задачи более интуитивно.
Он также охватывает идею цепного(последовательного) вызова методов для реализации сложных операций. Существует несколько известных Fluent API:
- Java Streams API - позволяет устанавливать запросы обработки данных способом, близким к проблеме, которую решаете.
- Spring Integration предлагает Java API устанавливать шаблоны интеграции с предприятием при помощи словаря, близкого к доменным шаблонам интеграции.
- JOOQ - предлагает библиотеку для взаимодействия с различными базами данных при помощи интуитивного API.

## Шаблон Builder
Шаблон Builder - предназначен для упрощения создания объектов. Данный шаблон непосредственно деконструирует параметры конструктора, а вместо этого предоставляет
метод для задания каждого из параметров. Преимущество такого подхода в том, что мы можем объявлять методы с именами, подходящими нашей специфики (например when -> then)